import React, {useState, useEffect} from "react"
import { NavLink, useNavigate } from "react-router-dom";
import { useStateContext } from "../../../Contexts/LogOutContext";
import "./UserNav.css"
import "../../../Component/Overlay/Overlay.css"
import { useStateContextTheme } from "../../../Contexts/ThemeContext";

const UserNavigation = () =>{

    const navigate = useNavigate();
    const [searchValue, setSearchValue] = useState("");
    const [searchValueIsEmpty, setSearchValueIsEmpty] = useState(true);
    const {setShowOverlayLogOut} = useStateContext();
    const {theme} = useStateContextTheme();


    useEffect(() => {
        document.body.style.backgroundColor = theme ? "#161616" : "#f5f5f5"; // Example background colors
      }, [theme]);

    const handleChange = (e) => {
        const SearchValue = e.target.value;
      
        setSearchValue((prevValue) => {
          const newValue = SearchValue;
          if (newValue !== "") {
            setSearchValueIsEmpty(false);
          } else {
            setSearchValueIsEmpty(true);
          }
          return newValue;
        });
    };

    const handleErase = () => {
        setSearchValue("");
        setSearchValueIsEmpty(true);
    }

    const handleLogOut = () => {
        setShowOverlayLogOut(prevState => ({
            ...prevState,
            overlay: true
        }))
        document.body.classList.add('body-no-scroll');
    }

    const handleProfilePage = () => {
        navigate("/user-profile");
    }

    const handleHomePage = () => {
        navigate("/user-order")
    }


    return(
        <div className={`user-nav ${theme ? "dark" : ""}`}>
            <div className={`user-nav-header ${theme ? "dark" : ""}`}>
                <h5 onClick={handleHomePage}>Snabb Construction</h5>
            </div>
            
                <ul className="user-nav-btn-list">
                    <li className={`user-nav-list-item ${theme ? "dark" : ""}`} onClick={handleProfilePage}>
                        <NavLink
                                to="/user-profile"
                            >
                        <span className="settings-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.99999 12.4999C11.3807 12.4999 12.5 11.3806 12.5 9.99992C12.5 8.61921 11.3807 7.49992 9.99999 7.49992C8.61928 7.49992 7.49999 8.61921 7.49999 9.99992C7.49999
                                    11.3806 8.61928 12.4999 9.99999 12.4999Z" stroke="#5D6679" strokeWidth="1.2" strokeLinecap="round" strokeLinejoin="round" className="setting-icon-path"/>
                                <path d="M16.1667 12.4999C16.0557 12.7513 16.0226 13.0301 16.0717 13.3004C16.1207 13.5707 16.2495 13.8202 16.4417 14.0166L16.4917 14.0666C16.6466 14.2214 16.7696 
                                14.4052 16.8534 14.6075C16.9373 14.8098 16.9805 15.0267 16.9805 15.2458C16.9805 15.4648 16.9373 15.6817 16.8534 15.884C16.7696 16.0863 16.6466 16.2701 16.4917 
                                16.4249C16.3369 16.5799 16.1531 16.7028 15.9507 16.7867C15.7484 16.8706 15.5315 16.9137 15.3125 16.9137C15.0935 16.9137 14.8766 16.8706 14.6743 16.7867C14.4719 
                                16.7028 14.2881 16.5799 14.1333 16.4249L14.0833 16.3749C13.8869 16.1828 13.6375 16.0539 13.3672 16.0049C13.0968 15.9559 12.818 15.989 12.5667 16.0999C12.3202 
                                16.2056 12.11 16.381 11.9619 16.6045C11.8139 16.8281 11.7344 17.0901 11.7333 17.3583V17.4999C11.7333 17.9419 11.5577 18.3659 11.2452 18.6784C10.9326 18.991 
                                10.5087 19.1666 10.0667 19.1666C9.62463 19.1666 9.20071 18.991 8.88815 18.6784C8.57559 18.3659 8.39999 17.9419 8.39999 17.4999V17.4249C8.39354 17.1491 8.30426 
                                16.8816 8.14375 16.6572C7.98325 16.4328 7.75894 16.2618 7.49999 16.1666C7.24865 16.0557 6.96983 16.0226 6.6995 16.0716C6.42917 16.1206 6.17973 16.2495 5.98333 
                                16.4416L5.93333 16.4916C5.77854 16.6465 5.59473 16.7695 5.39239 16.8533C5.19006 16.9372 4.97319 16.9804 4.75416 16.9804C4.53514 16.9804 4.31826 16.9372 4.11593 
                                16.8533C3.9136 16.7695 3.72978 16.6465 3.57499 16.4916C3.42003 16.3368 3.2971 16.153 3.21323 15.9507C3.12935 15.7483 3.08618 15.5314 3.08618 15.3124C3.08618 
                                15.0934 3.12935 14.8765 3.21323 14.6742C3.2971 14.4719 3.42003 14.288 3.57499 14.1332L3.62499 14.0833C3.81711 13.8869 3.94598 13.6374 3.995 13.3671C4.04401 
                                13.0967 4.01092 12.8179 3.89999 12.5666C3.79436 12.3201 3.61896 12.1099 3.39538 11.9618C3.17181 11.8138 2.90982 11.7343 2.64166 11.7333H2.49999C2.05797 
                                11.7333 1.63404 11.5577 1.32148 11.2451C1.00892 10.9325 0.833328 10.5086 0.833328 10.0666C0.833328 9.62456 1.00892 9.20063 1.32148 8.88807C1.63404 8.57551
                                    2.05797 8.39992 2.49999 8.39992H2.57499C2.85082 8.39347 3.11833 8.30418 3.34274 8.14368C3.56716 7.98317 3.73809 7.75886 3.83333 7.49992C3.94426 7.24857 
                                    3.97735 6.96976 3.92833 6.69943C3.87932 6.4291 3.75044 6.17965 3.55833 5.98325L3.50833 5.93325C3.35337 5.77846 3.23044 5.59465 3.14656 5.39232C3.06269 
                                    5.18999 3.01952 4.97311 3.01952 4.75408C3.01952 4.53506 3.06269 4.31818 3.14656 4.11585C3.23044 3.91352 3.35337 3.72971 3.50833 3.57492C3.66312 3.41996 
                                    3.84693 3.29703 4.04926 3.21315C4.25159 3.12928 4.46847 3.08611 4.68749 3.08611C4.90652 3.08611 5.1234 3.12928 5.32573 3.21315C5.52806 3.29703 5.71187 
                                    3.41996 5.86666 3.57492L5.91666 3.62492C6.11306 3.81703 6.36251 3.94591 6.63284 3.99492C6.90317 4.04394 7.18198 4.01085 7.43333 3.89992H7.49999C7.74647 
                                    3.79428 7.95668 3.61888 8.10474 3.39531C8.2528 3.17173 8.33226 2.90974 8.33333 2.64159V2.49992C8.33333 2.05789 8.50892 1.63397 8.82148 1.32141C9.13404 
                                    1.00885 9.55797 0.833252 9.99999 0.833252C10.442 0.833252 10.8659 1.00885 11.1785 1.32141C11.4911 1.63397 11.6667 2.05789 11.6667 2.49992V2.57492C11.6677 
                                    2.84307 11.7472 3.10506 11.8952 3.32864C12.0433 3.55221 12.2535 3.72762 12.5 3.83325C12.7513 3.94418 13.0302 3.97727 13.3005 3.92826C13.5708 3.87924 13.8203 
                                    3.75037 14.0167 3.55825L14.0667 3.50825C14.2214 3.35329 14.4053 3.23036 14.6076 3.14649C14.8099 3.06261 15.0268 3.01944 15.2458 3.01944C15.4649 3.01944 15.6817 
                                    3.06261 15.8841 3.14649C16.0864 3.23036 16.2702 3.35329 16.425 3.50825C16.58 3.66304 16.7029 3.84685 16.7868 4.04918C16.8706 4.25151 16.9138 4.46839 16.9138
                                    4.68742C16.9138 4.90644 16.8706 5.12332 16.7868 5.32565C16.7029 5.52798 16.58 5.7118 16.425 5.86658L16.375 5.91658C16.1829 6.11298 16.054 6.36243 16.005 
                                    6.63276C15.956 6.90309 15.9891 7.1819 16.1 7.43325V7.49992C16.2056 7.74639 16.381 7.9566 16.6046 8.10466C16.8282 8.25272 17.0902 8.33218 17.3583 8.33325H17.5C17.942 8.33325
                                    18.3659 8.50885 18.6785 8.82141C18.9911 9.13397 19.1667 9.55789 19.1667 9.99992C19.1667 10.4419 18.9911 10.8659 18.6785 11.1784C18.3659 11.491 17.942 11.6666 
                                    17.5 11.6666H17.425C17.1568 11.6677 16.8948 11.7471 16.6713 11.8952C16.4477 12.0432 16.2723 12.2534 16.1667 12.4999Z" 
                                    stroke="#5D6679" strokeWidth="1.2" strokeLinecap="round" strokeLinejoin="round" className="setting-icon-path"/>
                            </svg>
                   
                        </span>
                        </NavLink>
                    </li>

                    <li className={`user-nav-list-item ${theme ? "dark" : ""}`} onClick={handleLogOut}>
                        <span className="logout-icon">
                            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-outside-1_11_11" maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="22" fill="black">
                                <rect fill="white" width="18" height="22"/>
                                <path d="M9.56512 20.6454H2.09465C1.8466 20.6454 1.64516 20.4398 1.64516 20.187V2.11327C1.64516 1.86058 1.84677 1.65484 2.09465 1.65484H9.56512C9.74315 1.65484 
                                9.8877 1.50813 9.8877 1.32742C9.8877 1.14672 9.74315 1 9.56512 1H2.09465C1.49106 1 1 1.49955 1 2.11328V20.187C1 20.8007 1.49106 21.3003 2.09465 21.3003H9.56512C9.74315 
                                21.3003 9.8877 21.1535 9.8877 20.9728C9.8877 20.7921 9.74333 20.6454 9.56512 20.6454V20.6454ZM17.1499 10.9186L12.7247 6.42719C12.5987 6.29929 12.3946 6.29929 12.2684 
                                6.42719C12.1422 6.55509 12.1424 6.76247 12.2684 6.89036L16.1433 10.8227H5.61245C5.43442 10.8227 5.28987 10.9694 5.28987 11.1501C5.28987 11.3308 5.43442 11.4775 5.61245 
                                11.4775H16.1433L12.2684 15.4103C12.1424 15.5382 12.1424 15.7454 12.2684 15.8734C12.3314 15.9374 12.4136 15.9694 12.4964 15.9694C12.5792 15.9694 12.6617 15.9374 12.7245 
                                15.8734L17.1497 11.382C17.21 11.3208 17.2442 11.2375 17.2442 11.1505C17.2444 11.0633 17.2105 10.9802 17.1499 10.9186V10.9186Z"/>
                                </mask>
                                <path d="M9.56512 20.6454H2.09465C1.8466 20.6454 1.64516 20.4398 1.64516 20.187V2.11327C1.64516 1.86058 1.84677 1.65484 2.09465 1.65484H9.56512C9.74315 1.65484 9.8877 
                                1.50813 9.8877 1.32742C9.8877 1.14672 9.74315 1 9.56512 1H2.09465C1.49106 1 1 1.49955 1 2.11328V20.187C1 20.8007 1.49106 21.3003 2.09465 21.3003H9.56512C9.74315 21.3003 
                                9.8877 21.1535 9.8877 20.9728C9.8877 20.7921 9.74333 20.6454 9.56512 20.6454V20.6454ZM17.1499 10.9186L12.7247 6.42719C12.5987 6.29929 12.3946 6.29929 12.2684 6.42719C12.1422 
                                6.55509 12.1424 6.76247 12.2684 6.89036L16.1433 10.8227H5.61245C5.43442 10.8227 5.28987 10.9694 5.28987 11.1501C5.28987 11.3308 5.43442 11.4775 5.61245 11.4775H16.1433L12.2684
                                    15.4103C12.1424 15.5382 12.1424 15.7454 12.2684 15.8734C12.3314 15.9374 12.4136 15.9694 12.4964 15.9694C12.5792 15.9694 12.6617 15.9374 12.7245 15.8734L17.1497 11.382C17.21 
                                    11.3208 17.2442 11.2375 17.2442 11.1505C17.2444 11.0633 17.2105 10.9802 17.1499 10.9186V10.9186Z" fill="#5D6679"/>
                                <path d="M9.56512 20.6454H9.66512V20.5454H9.56512V20.6454ZM9.56512 20.6454H9.46512V20.7454H9.56512V20.6454ZM17.1499 10.9186H17.2499V10.8776L17.2211 10.8484L17.1499 10.9186ZM12.7247
                                    6.42719L12.6535 6.49737L12.6535 6.49737L12.7247 6.42719ZM12.2684 6.42719L12.3396 6.49742L12.3396 6.49742L12.2684 6.42719ZM12.2684 6.89036L12.1971 6.96055L12.1971 6.96055L12.2684 
                                    6.89036ZM16.1433 10.8227V10.9227H16.3822L16.2145 10.7525L16.1433 10.8227ZM16.1433 11.4775L16.2145 11.5477L16.3822 11.3775H16.1433V11.4775ZM12.2684 15.4103L12.1971 15.3401L12.1971
                                15.3401L12.2684 15.4103ZM12.2684 15.8734L12.1971 15.9436L12.1971 15.9436L12.2684 15.8734ZM12.7245 15.8734L12.6533 15.8032L12.6532 15.8034L12.7245 15.8734ZM17.1497 11.382L17.2209 
                                11.4522L17.2209 11.4522L17.1497 11.382ZM17.2442 11.1505L17.1442 11.1503V11.1505H17.2442ZM17.1499 10.9186H17.0499V10.9596L17.0786 10.9888L17.1499 10.9186ZM9.56512 
                                20.5454H2.09465V20.7454H9.56512V20.5454ZM2.09465 20.5454C1.90369 20.5454 1.74516 20.3865 1.74516 20.187H1.54516C1.54516 20.4932 1.7895 20.7454 2.09465 20.7454V20.5454ZM1.74516 
                                20.187V2.11327H1.54516V20.187H1.74516ZM1.74516 2.11327C1.74516 1.91393 1.90387 1.75484 2.09465 1.75484V1.55484C1.78968 1.55484 1.54516 1.80724 1.54516 2.11327H1.74516ZM2.09465
                                1.75484H9.56512V1.55484H2.09465V1.75484ZM9.56512 1.75484C9.79978 1.75484 9.9877 1.56194 9.9877 1.32742H9.7877C9.7877 1.45431 9.68652 1.55484 9.56512 1.55484V1.75484ZM9.9877
                                1.32742C9.9877 1.0929 9.79978 0.9 9.56512 0.9V1.1C9.68652 1.1 9.7877 1.20054 9.7877 1.32742H9.9877ZM9.56512 0.9H2.09465V1.1H9.56512V0.9ZM2.09465 0.9C1.43424 0.9 0.9 1.44593
                                0.9 2.11328H1.1C1.1 1.55317 1.54788 1.1 2.09465 1.1V0.9ZM0.9 2.11328V20.187H1.1V2.11328H0.9ZM0.9 20.187C0.9 20.8543 1.43424 21.4003 2.09465 21.4003V21.2003C1.54788 21.2003
                                1.1 20.7471 1.1 20.187H0.9ZM2.09465 21.4003H9.56512V21.2003H2.09465V21.4003ZM9.56512 21.4003C9.79978 21.4003 9.9877 21.2074 9.9877 20.9728H9.7877C9.7877 21.0997 9.68652
                                21.2003 9.56512 21.2003V21.4003ZM9.9877 20.9728C9.9877 20.7383 9.8 20.5454 9.56512 20.5454V20.7454C9.68667 20.7454 9.7877 20.8459 9.7877 20.9728H9.9877ZM9.66512 
                                20.6454V20.6454H9.46512V20.6454H9.66512ZM17.2211 10.8484L12.7959 6.357L12.6535 6.49737L17.0786 10.9888L17.2211 10.8484ZM12.7959 6.357C12.6307 6.18932 12.3625 6.18939 
                                12.1972 6.35696L12.3396 6.49742C12.4266 6.40918 12.5666 6.40925 12.6535 6.49737L12.7959 6.357ZM12.1972 6.35695C12.0325 6.52386 12.0328 6.79378 12.1971 6.96055L12.3396 
                                6.82018C12.2519 6.73115 12.2518 6.58632 12.3396 6.49742L12.1972 6.35695ZM12.1971 6.96055L16.0721 10.8929L16.2145 10.7525L12.3396 6.82017L12.1971 6.96055ZM16.1433 
                                10.7227H5.61245V10.9227H16.1433V10.7227ZM5.61245 10.7227C5.37779 10.7227 5.18987 10.9156 5.18987 11.1501H5.38987C5.38987 11.0232 5.49105 10.9227 5.61245 10.9227V10.7227ZM5.18987
                                11.1501C5.18987 11.3846 5.37779 11.5775 5.61245 11.5775V11.3775C5.49105 11.3775 5.38987 11.277 5.38987 11.1501H5.18987ZM5.61245 11.5775H16.1433V11.3775H5.61245V11.5775ZM16.072 
                                11.4074L12.1971 15.3401L12.3396 15.4804L16.2145 11.5477L16.072 11.4074ZM12.1971 15.3401C12.0327 15.5069 12.0328 15.7766 12.1971 15.9436L12.3397 15.8033C12.2519 15.7141 12.252 
                                15.5694 12.3396 15.4804L12.1971 15.3401ZM12.1971 15.9436C12.2795 16.0272 12.3877 16.0694 12.4964 16.0694V15.8694C12.4396 15.8694 12.3833 15.8476 12.3396 15.8032L12.1971 
                                15.9436ZM12.4964 16.0694C12.6051 16.0694 12.7136 16.0273 12.7958 15.9435L12.6532 15.8034C12.6098 15.8475 12.5534 15.8694 12.4964 15.8694V16.0694ZM12.7957 15.9436L17.2209 
                                11.4522L17.0785 11.3118L12.6533 15.8032L12.7957 15.9436ZM17.2209 11.4522C17.2998 11.3722 17.3442 11.2636 17.3442 11.1505H17.1442C17.1442 11.2113 17.1202 11.2694 17.0785 
                                11.3118L17.2209 11.4522ZM17.3442 11.1507C17.3444 11.0374 17.3004 10.9289 17.2211 10.8485L17.0786 10.9888C17.1207 11.0315 17.1443 11.0893 17.1442 11.1503L17.3442 11.1507ZM17.2499 
                                10.9186V10.9186H17.0499V10.9186H17.2499Z" fill="#5D6679" mask="url(#path-1-outside-1_11_11)"/>
                            </svg>
                        </span>
                    </li>
                </ul>
            {/* </div> */}
        </div>
    )
}

export default UserNavigation;